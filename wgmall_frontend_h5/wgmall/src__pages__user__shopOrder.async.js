"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[523],{30096:function(F,v,s){s.d(v,{GD:function(){return b},Gj:function(){return T},Iw:function(){return h},LG:function(){return c},MX:function(){return x},PY:function(){return d},QK:function(){return u},RB:function(){return C},Sp:function(){return L},ZZ:function(){return r},_r:function(){return Z},aV:function(){return y},b7:function(){return w},dt:function(){return p},fY:function(){return D},if:function(){return S},kh:function(){return I},lz:function(){return A},mg:function(){return R},t0:function(){return o},yC:function(){return W}});var t=s(48047),j=s(53827),P=j.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function i(n){return request({url:"/task/grab",withCredentials:!1,method:"post",data:n})}function x(){return(0,t.Z)({url:"/products/random",method:"get"})}function p(n){return(0,t.Z)({url:"/products/random/type",method:"get",params:n})}function u(n){return(0,t.Z)({url:"/wishlist/add",method:"post",data:n})}function d(n){return(0,t.Z)({url:"/wishlist/"+n,method:"get"})}function o(n,M){return(0,t.Z)({url:"/wishlist/delete/".concat(n,"/").concat(M),method:"delete"})}function w(n){return(0,t.Z)({url:"/orders/buy",method:"post",data:n})}function c(n){return(0,t.Z)({url:"/orders/buy/all",method:"get",params:n})}function h(n){return(0,t.Z)({url:"/orders/buy/pending",method:"get",params:n})}function T(n){return(0,t.Z)({url:"/orders/buy/processing",method:"get",params:n})}function y(n){return(0,t.Z)({url:"/orders/buy/refunding",method:"get",params:n})}function R(n){return(0,t.Z)({url:"/orders/buy/delivered",method:"get",params:n})}function W(n){return(0,t.Z)({url:"/products/search",method:"get",params:n})}function D(n){return(0,t.Z)({url:"/shop/".concat(n.shopId,"/available-products"),method:"get",params:n})}function b(n){return(0,t.Z)({url:"/shop/products/priceRange",method:"get",params:n})}function r(n){return(0,t.Z)({url:"/shop/".concat(n.shopId,"/orders"),method:"get",params:n})}function C(n){return(0,t.Z)({url:"/shop/".concat(n,"/products"),method:"get",params:{size:100}})}function L(n){return(0,t.Z)({url:"/shop/".concat(n,"/order/summary"),method:"get",params:{shopId:n}})}function Z(n){return(0,t.Z)({url:"/shop/".concat(n.shopId,"/payOrder"),method:"post",data:n})}function S(n){return(0,t.Z)({url:"/shop/listProduct",method:"post",data:n})}function A(n){return(0,t.Z)({url:"/shop/products/editPrice",method:"post",data:n})}function I(n){return(0,t.Z)({url:"/shop/removeProduct",method:"post",data:n})}},23732:function(F,v,s){s.d(v,{$A:function(){return K},FL:function(){return n},H:function(){return C},IL:function(){return Z},JR:function(){return I},Kn:function(){return c},S4:function(){return L},Ue:function(){return w},Uy:function(){return O},Vb:function(){return z},_U:function(){return h},an:function(){return x},bZ:function(){return S},eY:function(){return M},iJ:function(){return r},jw:function(){return D},nn:function(){return b},o$:function(){return i},sg:function(){return k},um:function(){return u},vZ:function(){return U},wX:function(){return A},x4:function(){return R},yw:function(){return o},z2:function(){return p}});var t=s(48047),j=s(53827),P=j.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function i(e){return P({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function x(e){return(0,t.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function p(e){return(0,t.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function u(e){return(0,t.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function d(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function o(e){return(0,t.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function w(e){var N=e.id;return delete e.id,(0,t.Z)({url:"/address/create?userId="+N,withCredentials:!1,method:"post",data:e})}function c(e){return(0,t.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function h(e){return(0,t.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function T(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function y(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function R(e){return(0,t.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function W(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function D(e){return(0,t.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function b(e){return(0,t.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function r(e){return(0,t.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function C(e){return(0,t.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function L(e){return(0,t.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function Z(e){return(0,t.Z)({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function S(e){return(0,t.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function A(e){return(0,t.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function I(e){return(0,t.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function n(e){return(0,t.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function M(e){return(0,t.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function O(e){return(0,t.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function k(e){return(0,t.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function z(e){return(0,t.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function U(e){return(0,t.Z)({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function K(e){return(0,t.Z)({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function _(){return fetch("https://api.ipify.org?format=json")}},48047:function(F,v,s){var t=s(31759),j=s.n(t),P=s(53827),i=s(50862),x=s(49634),p=P.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});p.interceptors.request.use(function(u){if(u.url==="/auth/register"||u.url==="/auth/login")return u;(u.url==="/user/apply"||u.url==="/loan/apply")&&(u.headers["Content-Type"]="multipart/form-data");var d=localStorage.getItem("token");return d&&(u.headers.Authorization="Bearer "+d),u},function(u){return console.log(u),Promise.reject(u)}),p.interceptors.response.use(function(u){var d,o=u.data;if(console.log("response-->",o),Array.isArray(o))return Promise.resolve(o);if((d=o.data)!==null&&d!==void 0&&d.token&&(localStorage.setItem("token",o.data.token),localStorage.setItem("userInfo",JSON.stringify(o.data.user))),o.code!==200)return i.FN.show({icon:"fail",content:o.message}),Promise.resolve(o);if(o.code===200||o.message==="SUCCESS")return Promise.resolve(o);if(o.code===305||o.code===306){Promise.reject(o||"error");return}else return o.code===403?(i.FN.show({icon:"fail",content:o.message}),x.history.push("/login"),Promise.resolve(o||"error")):Promise.reject(o||"error")},function(u){return console.log(u,"error"),u.status===403&&(i.FN.show({icon:"fail",content:u.message}),localStorage.removeItem("token"),setTimeout(function(){x.history.push("/login")},1e3)),console.log("request error"+u,j()(u)),Promise.reject(u)}),v.Z=p},48452:function(F,v,s){var t=s(50862),j=s(75271),P=s(5791),i=s(52676),x=function(u){var d=u.title,o=(0,P.s0)(),w=function(){o(-1)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(t.l2,{onBack:w,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:d})})};v.Z=x},59972:function(F,v,s){s.r(v),s.d(v,{default:function(){return L}});var t=s(26068),j=s.n(t),P=s(90228),i=s.n(P),x=s(15558),p=s.n(x),u=s(87999),d=s.n(u),o=s(48305),w=s.n(o),c=s(75271),h=s(50862);function T(Z){return c.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},Z,{style:Object.assign({verticalAlign:"-0.125em"},Z.style),className:["antd-mobile-icon",Z.className].filter(Boolean).join(" ")}),c.createElement("g",{id:"CheckCircleFill-CheckCircleFill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("g",{id:"CheckCircleFill-\u7F16\u7EC4"},c.createElement("rect",{id:"CheckCircleFill-\u77E9\u5F62",fill:"#FFFFFF",opacity:0,x:0,y:0,width:48,height:48}),c.createElement("path",{d:"M24,2 C36.1502645,2 46,11.8497355 46,24 C46,36.1502645 36.1502645,46 24,46 C11.8497355,46 2,36.1502645 2,24 C2,11.8497355 11.8497355,2 24,2 Z M35.8202936,17 L32.7086692,17 C32.6025922,17 32.500859,17.0421352 32.4258461,17.1171378 L32.4258461,17.1171378 L21.3922352,28.1492247 L16.3591562,23.1163755 C16.2841422,23.0413649 16.1824034,22.9992247 16.0763199,22.9992247 L16.0763199,22.9992247 L12.9653996,22.9992247 C12.859342,22.9992247 12.7576259,23.0413445 12.6826161,23.1163228 C12.5263737,23.2724998 12.5263207,23.5257658 12.6824977,23.6820082 C12.8583452,23.8579294 13.0341927,24.0338505 13.2100402,24.2097716 C13.2577488,24.2575002 13.3065097,24.3063074 13.3562592,24.3561283 L13.6661084,24.6666997 C14.3074913,25.3100963 15.0728595,26.0807873 15.8520136,26.8666654 L16.4372421,27.4571699 C18.2552812,29.2922548 19.9983838,31.0574343 20.2666114,31.3285298 L20.301004,31.3632341 C20.8867904,31.9490205 21.8365379,31.9490205 22.4223243,31.3632341 L22.4223243,31.3632341 L36.1031319,17.6828471 C36.1781492,17.6078322 36.2202936,17.5060887 36.2202936,17.4 C36.2202936,17.1790861 36.0412075,17 35.8202936,17 L35.8202936,17 Z",id:"CheckCircleFill-\u5F62\u72B6\u7ED3\u5408",fill:"currentColor",fillRule:"nonzero"}))))}var y=T,R=s(48452),W=s(23732),D=s(30096),b=s(49634),r=s(52676),C=h.Rg.Step;function L(){var Z=(0,c.useState)([]),S=w()(Z,2),A=S[0],I=S[1],n=(0,c.useState)({}),M=w()(n,2),O=M[0],k=M[1],z=(0,c.useState)(!0),U=w()(z,2),K=U[0],_=U[1],e=(0,c.useState)({page:0}),N=w()(e,2),J=N[0],H=N[1],$=(0,b.useLocation)(),V=new URLSearchParams($.search),Y=V.get("type")||"all",X=function(){var a=d()(i()().mark(function g(){var m,l;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return console.log("loadMore"),m=JSON.parse(localStorage.getItem("userInfo")),f.next=4,(0,D.ZZ)({shopId:m.shopId,status:Y,page:J.page,size:10});case 4:if(l=f.sent,H(function(E){return{page:E.page+1}}),l.data.length!=0){f.next=8;break}return f.abrupt("return",_(!1));case 8:console.log(l),I(function(E){return[].concat(p()(E),p()(l.data)).length>=l.pagination.totalItems&&_(!1),[].concat(p()(E),p()(l.data))});case 10:case"end":return f.stop()}},g)}));return function(){return a.apply(this,arguments)}}(),G=function(){var a=d()(i()().mark(function g(){var m,l;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return m=JSON.parse(localStorage.getItem("userInfo")),f.next=3,(0,D.Sp)(m.shopId);case 3:l=f.sent,_(!0),k(l.data);case 6:case"end":return f.stop()}},g)}));return function(){return a.apply(this,arguments)}}(),Q=function(){var a=d()(i()().mark(function g(m){var l,B;return i()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return l=JSON.parse(localStorage.getItem("userInfo")),E.next=3,(0,D._r)({shopId:l.shopId,orderId:m.order.id,costPrice:m.order.totalWholesale});case 3:B=E.sent,B.code===200&&(h.FN.show({icon:"scuccess",content:B.message}),G(),H({page:0}),I([]),setTimeout(function(){_(!0)},1e3));case 5:case"end":return E.stop()}},g)}));return function(m){return a.apply(this,arguments)}}();(0,c.useEffect)(function(){G()},[]);var q=function(g){I(function(m){return m.map(function(l){return l.id===g?j()(j()({},l),{},{unread:!1}):l})})};return(0,r.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},children:[(0,r.jsx)(R.Z,{title:"\u5E97\u94FA\u8BA2\u5355",style:{height:"100px"}}),(0,r.jsx)(h.Zb,{style:{fontSize:12,fontWeight:700},children:(0,r.jsxs)("div",{style:{padding:"0 20px",display:"flex",justifyContent:"space-between"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:O.totalAmount}),(0,r.jsx)("p",{children:"\u603B\u9500\u552E\u989D"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:O.totalProfit}),(0,r.jsx)("p",{children:"\u603B\u9500\u552E\u76C8\u5229 "})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:O.totalWholesale}),(0,r.jsx)("p",{children:"\u603B\u8FDB\u8D27\u6210\u672C"})]})]})}),A.length>0?(0,r.jsx)(h.aV,{style:{"--border-top":"none","--border-bottom":"none"},children:A.map(function(a,g){return(0,r.jsxs)(h.aV.Item,{onClick:function(){return q(a.id)},style:{fontWeight:a.unread?700:400,background:a.unread?"linear-gradient(90deg, #f5f7fa 0%, #fff 100%)":"#fff",borderRadius:8,margin:"8px 16px",boxShadow:a.unread?"0 2px 8px rgba(60,80,120,0.06)":"none"},children:[(0,r.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,r.jsx)("img",{src:"https://api.xxzh.cc"+a.order.product.imagePath,alt:"",style:{width:108,height:108,borderRadius:8,marginRight:16}}),(0,r.jsxs)("p",{style:{fontSize:14,width:"250px"},children:[a.order.product.name," "]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:[" number: x",a.order.quantity]}),(0,r.jsxs)("p",{children:[" \u8BA2\u5355\u603B\u4EF7: ",a.order.totalAmount]}),(0,r.jsxs)("p",{children:[" \u8D2D\u4E70\u65F6\u95F4: ",a.order.createdAt]}),(0,r.jsxs)("p",{children:[" \u8BA2\u5355\u7F16\u53F7: ",a.order.orderNumber]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"\u7528\u6237\u4FE1\u606F:"}),(0,r.jsxs)("p",{children:["\u5730\u5740: ",a.order.shippingAddress.country+" "+a.order.shippingAddress.province+" "+a.order.shippingAddress.city+" "+a.order.shippingAddress.district+" "+a.order.shippingAddress.street+" "+a.order.shippingAddress.detail]}),(0,r.jsxs)("p",{children:["\u59D3\u540D: ",a.order.shippingAddress.receiverName]}),(0,r.jsxs)("p",{children:["\u624B\u673A\u53F7\u7801: ",a.order.shippingAddress.receiverPhone]})]}),(0,r.jsxs)(h.Rg,{direction:"vertical",style:{"--title-font-size":"17px","--description-font-size":"15px","--indicator-margin-right":"12px","--icon-size":"22px"},current:a.statusNumber-1,children:[(0,r.jsx)(C,{title:"PENDING",icon:(0,r.jsx)(y,{}),description:(0,r.jsxs)(h.T,{block:!0,direction:"vertical",children:[(0,r.jsx)("div",{children:a.statusNumber===1?"\u7F3A\u8D27 \u9700\u8981\u8FDB\u8D27":"\u5907\u8D27\u5145\u8DB3 \u65E0\u9700\u8FDB\u8D27"}),(0,r.jsx)(h.zx,{color:"primary",disabled:a.statusNumber!==1,onClick:function(){return Q(a)},children:"\u53BB\u8FDB\u8D27"})]})}),(0,r.jsx)(C,{title:"PRECESSING",icon:(0,r.jsx)(y,{})}),(0,r.jsx)(C,{title:"SHIPPED",icon:(0,r.jsx)(y,{})}),(0,r.jsx)(C,{title:"WAREHOUSE",icon:(0,r.jsx)(y,{})}),(0,r.jsx)(C,{title:"TRANSPORTING",icon:(0,r.jsx)(y,{})}),(0,r.jsx)(C,{title:"DELIVERED",icon:(0,r.jsx)(y,{})}),(0,r.jsx)(C,{title:"COMPLETED",icon:(0,r.jsx)(y,{})})]})]},g)})}):(0,r.jsx)(h.HY,{style:{padding:"64px 0"},imageStyle:{width:128},description:"\u6682\u65E0\u6570\u636E"}),(0,r.jsx)(h.v_,{loadMore:X,hasMore:K})]})}}}]);
