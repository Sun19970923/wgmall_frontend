"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[339],{23732:function(Z,p,t){t.d(p,{$A:function(){return b},FL:function(){return w},H:function(){return M},IL:function(){return S},JR:function(){return E},Kn:function(){return s},S4:function(){return O},Ue:function(){return I},Uy:function(){return N},Vb:function(){return A},_U:function(){return x},an:function(){return g},bZ:function(){return F},eY:function(){return _},iJ:function(){return L},jw:function(){return D},nn:function(){return y},o$:function(){return i},sg:function(){return K},um:function(){return a},vZ:function(){return R},wX:function(){return U},x4:function(){return u},yw:function(){return n},z2:function(){return l}});var r=t(48047),f=t(53827),v=f.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function i(e){return v({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function g(e){return(0,r.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function l(e){return(0,r.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function a(e){return(0,r.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function o(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function n(e){return(0,r.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function I(e){var h=e.id;return delete e.id,(0,r.Z)({url:"/address/create?userId="+h,withCredentials:!1,method:"post",data:e})}function s(e){return(0,r.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function x(e){return(0,r.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function P(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function T(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function u(e){return(0,r.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function B(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function D(e){return(0,r.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function y(e){return(0,r.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function L(e){return(0,r.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function M(e){return(0,r.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function O(e){return(0,r.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function S(e){return(0,r.Z)({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function F(e){return(0,r.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function U(e){return(0,r.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function E(e){return(0,r.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function w(e){return(0,r.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function _(e){return(0,r.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function N(e){return(0,r.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function K(e){return(0,r.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function A(e){return(0,r.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function R(e){return(0,r.Z)({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function b(e){return(0,r.Z)({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function C(){return fetch("https://api.ipify.org?format=json")}},48047:function(Z,p,t){var r=t(31759),f=t.n(r),v=t(53827),i=t(50862),g=t(49634),l=v.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});l.interceptors.request.use(function(a){if(a.url==="/auth/register"||a.url==="/auth/login")return a;(a.url==="/user/apply"||a.url==="/loan/apply")&&(a.headers["Content-Type"]="multipart/form-data");var o=localStorage.getItem("token");return o&&(a.headers.Authorization="Bearer "+o),a},function(a){return console.log(a),Promise.reject(a)}),l.interceptors.response.use(function(a){var o,n=a.data;if(console.log("response-->",n),Array.isArray(n))return Promise.resolve(n);if((o=n.data)!==null&&o!==void 0&&o.token&&(localStorage.setItem("token",n.data.token),localStorage.setItem("userInfo",JSON.stringify(n.data.user))),n.code!==200)return i.FN.show({icon:"fail",content:n.message}),Promise.resolve(n);if(n.code===200||n.message==="SUCCESS")return Promise.resolve(n);if(n.code===305||n.code===306){Promise.reject(n||"error");return}else return n.code===403?(i.FN.show({icon:"fail",content:n.message}),g.history.push("/login"),Promise.resolve(n||"error")):Promise.reject(n||"error")},function(a){return console.log(a,"error"),a.status===403&&(i.FN.show({icon:"fail",content:a.message}),localStorage.removeItem("token"),setTimeout(function(){g.history.push("/login")},1e3)),console.log("request error"+a,f()(a)),Promise.reject(a)}),p.Z=l},48452:function(Z,p,t){var r=t(50862),f=t(75271),v=t(5791),i=t(52676),g=function(a){var o=a.title,n=(0,v.s0)(),I=function(){n(-1)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.l2,{onBack:I,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:o})})};p.Z=g},13234:function(Z,p,t){t.r(p),t.d(p,{default:function(){return B}});var r=t(90228),f=t.n(r),v=t(87999),i=t.n(v),g=t(26068),l=t.n(g),a=t(48305),o=t.n(a),n=t(75271),I=t(48452),s=t(50862),x={address:"address___oBMw5"},P=t(23732),T=t(5791),u=t(52676);function B(){var D=(0,n.useState)(),y=o()(D,2),L=y[0],M=y[1],O=s.l0.useForm(),S=o()(O,1),F=S[0],U=(0,n.useState)({}),E=o()(U,2),w=E[0],_=E[1],N=(0,T.s0)(),K=function(e){M(function(h){return h.map(function(d){return d.id===e?l()(l()({},d),{},{unread:!1}):d})})},A=function(){var C=i()(f()().mark(function e(){var h,d;return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return h=JSON.parse(localStorage.getItem("userInfo")),c.next=3,(0,P.Kn)({userId:h.id});case 3:if(d=c.sent,!d.data.address){c.next=7;break}return console.log(d.data.address,"res.data.address"),c.abrupt("return",_(d.data.address));case 7:_({id:1});case 8:case"end":return c.stop()}},e)}));return function(){return C.apply(this,arguments)}}(),R=function(){var C=i()(f()().mark(function e(h){var d,j,c,W;return f()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(d=JSON.parse(localStorage.getItem("userInfo")),j=l()(l()({},h),{},{id:d.id}),!w.city){m.next=8;break}return m.next=5,(0,P._U)(j);case 5:return c=m.sent,c.data&&s.FN.show({icon:"success",content:"\u66F4\u65B0\u6210\u529F"}),m.abrupt("return");case 8:return m.next=10,(0,P.Ue)(j);case 10:W=m.sent,W.data&&s.FN.show({icon:"success",content:"\u63D0\u4EA4\u6210\u529F"});case 12:case"end":return m.stop()}},e)}));return function(h){return C.apply(this,arguments)}}(),b=function(e){console.log(e),R(e)};return(0,n.useEffect)(function(){A()},[]),(0,u.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},className:x.address,children:[(0,u.jsx)(I.Z,{title:"\u5730\u5740",style:{height:"100px"}}),w.id&&(0,u.jsxs)(s.l0,{layout:"horizontal",onFinish:b,initialValues:w,mode:"card",footer:(0,u.jsx)(s.zx,{block:!0,type:"submit",color:"primary",size:"large",children:"\u63D0\u4EA4"}),children:[(0,u.jsx)(s.l0.Item,{required:!0,name:"province",label:"province",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Item,{required:!0,name:"city",label:"city",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Item,{required:!0,name:"district",label:"district",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Item,{required:!0,name:"street",label:"street",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Item,{required:!0,name:"detail",label:"detail",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Item,{required:!0,name:"country",label:"country",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Item,{required:!0,name:"receiverName",label:"receiverName",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Item,{required:!0,name:"receiverPhone",label:"receiverPhone",children:(0,u.jsx)(s.II,{placeholder:"Please input"})}),(0,u.jsx)(s.l0.Header,{})]})]})}}}]);
