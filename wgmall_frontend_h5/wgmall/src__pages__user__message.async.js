"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[283],{23732:function(U,i,t){t.d(i,{$A:function(){return h},FL:function(){return v},H:function(){return M},IL:function(){return P},JR:function(){return R},Kn:function(){return g},S4:function(){return y},Ue:function(){return c},Uy:function(){return T},Vb:function(){return L},_U:function(){return C},an:function(){return d},bZ:function(){return S},eY:function(){return A},iJ:function(){return w},jw:function(){return I},nn:function(){return D},o$:function(){return o},sg:function(){return j},um:function(){return r},vZ:function(){return s},wX:function(){return b},x4:function(){return _},yw:function(){return a},z2:function(){return u}});var n=t(48047),f=t(53827),m=f.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function o(e){return m({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function d(e){return(0,n.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function u(e){return(0,n.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function r(e){return(0,n.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function l(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function a(e){return(0,n.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function c(e){var K=e.id;return delete e.id,(0,n.Z)({url:"/address/create?userId="+K,withCredentials:!1,method:"post",data:e})}function g(e){return(0,n.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function C(e){return(0,n.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function B(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function Z(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function _(e){return(0,n.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function x(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function I(e){return(0,n.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function D(e){return(0,n.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function w(e){return(0,n.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function M(e){return(0,n.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function y(e){return(0,n.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function P(e){return(0,n.Z)({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function S(e){return(0,n.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function b(e){return(0,n.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function R(e){return(0,n.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function v(e){return(0,n.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function A(e){return(0,n.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function T(e){return(0,n.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function j(e){return(0,n.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function L(e){return(0,n.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function s(e){return(0,n.Z)({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function h(e){return(0,n.Z)({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function E(){return fetch("https://api.ipify.org?format=json")}},48047:function(U,i,t){var n=t(31759),f=t.n(n),m=t(53827),o=t(50862),d=t(49634),u=m.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});u.interceptors.request.use(function(r){if(r.url==="/auth/register"||r.url==="/auth/login")return r;(r.url==="/user/apply"||r.url==="/loan/apply")&&(r.headers["Content-Type"]="multipart/form-data");var l=localStorage.getItem("token");return l&&(r.headers.Authorization="Bearer "+l),r},function(r){return console.log(r),Promise.reject(r)}),u.interceptors.response.use(function(r){var l,a=r.data;if(console.log("response-->",a),Array.isArray(a))return Promise.resolve(a);if((l=a.data)!==null&&l!==void 0&&l.token&&(localStorage.setItem("token",a.data.token),localStorage.setItem("userInfo",JSON.stringify(a.data.user))),a.code!==200)return o.FN.show({icon:"fail",content:a.message}),Promise.resolve(a);if(a.code===200||a.message==="SUCCESS")return Promise.resolve(a);if(a.code===305||a.code===306){Promise.reject(a||"error");return}else return a.code===403?(o.FN.show({icon:"fail",content:a.message}),d.history.push("/login"),Promise.resolve(a||"error")):Promise.reject(a||"error")},function(r){return console.log(r,"error"),r.status===403&&(o.FN.show({icon:"fail",content:r.message}),localStorage.removeItem("token"),setTimeout(function(){d.history.push("/login")},1e3)),console.log("request error"+r,f()(r)),Promise.reject(r)}),i.Z=u},48452:function(U,i,t){var n=t(50862),f=t(75271),m=t(5791),o=t(52676),d=function(r){var l=r.title,a=(0,m.s0)(),c=function(){a(-1)};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n.l2,{onBack:c,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:l})})};i.Z=d},70647:function(U,i,t){t.r(i),t.d(i,{default:function(){return x}});var n=t(26068),f=t.n(n),m=t(90228),o=t.n(m),d=t(15558),u=t.n(d),r=t(87999),l=t.n(r),a=t(48305),c=t.n(a),g=t(75271),C=t(50862),B=t(48452),Z=t(23732),_=t(52676);function x(){var I=(0,g.useState)([]),D=c()(I,2),w=D[0],M=D[1],y=(0,g.useState)(!0),P=c()(y,2),S=P[0],b=P[1],R=(0,g.useState)({page:0}),v=c()(R,2),A=v[0],T=v[1],j=function(){var s=l()(o()().mark(function h(){var E,e;return o()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return E=JSON.parse(localStorage.getItem("userInfo")),p.next=3,(0,Z.yw)({receiverId:E.id,page:A.page,size:10});case 3:if(e=p.sent,T(function(O){return{page:O.page+1}}),console.log(e.data,"111"),e.data.length!=0){p.next=8;break}return p.abrupt("return",b(!1));case 8:console.log(e),M(function(O){return[].concat(u()(O),u()(e.data.messages)).length>=e.data.total&&b(!1),[].concat(u()(O),u()(e.data.messages))});case 10:case"end":return p.stop()}},h)}));return function(){return s.apply(this,arguments)}}(),L=function(h){M(function(E){return E.map(function(e){return e.id===h?f()(f()({},e),{},{unread:!1}):e})})};return(0,_.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},children:[(0,_.jsx)(B.Z,{title:"\u4E2A\u4EBA\u4E2D\u5FC3",style:{height:"100px"}}),w.length>0?(0,_.jsx)(C.aV,{style:{"--border-top":"none","--border-bottom":"none"},children:w.map(function(s){return(0,_.jsx)(C.aV.Item,{description:(0,_.jsx)("span",{style:{color:"#666",fontSize:14},children:s.content}),extra:(0,_.jsx)("span",{style:{color:"#aaa",fontSize:13},children:s.time}),onClick:function(){return L(s.id)},style:{fontWeight:s.unread?700:400,background:s.unread?"linear-gradient(90deg, #f5f7fa 0%, #fff 100%)":"#fff",borderRadius:8,margin:"8px 16px",boxShadow:s.unread?"0 2px 8px rgba(60,80,120,0.06)":"none"},children:(0,_.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[s.title,s.unread&&(0,_.jsx)("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:"#4a90e2",marginLeft:8}})]})},s.id)})}):(0,_.jsx)(C.HY,{style:{padding:"64px 0"},imageStyle:{width:128},description:"\u6682\u65E0\u6570\u636E"}),(0,_.jsx)(C.v_,{loadMore:j,hasMore:S})]})}}}]);
