"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[467],{30096:function(D,C,n){n.d(C,{GD:function(){return E},Gj:function(){return g},Iw:function(){return _},LG:function(){return i},MX:function(){return w},PY:function(){return l},QK:function(){return o},RB:function(){return j},Sp:function(){return M},ZZ:function(){return P},_r:function(){return Z},aV:function(){return v},b7:function(){return d},dt:function(){return f},fY:function(){return I},if:function(){return O},kh:function(){return R},lz:function(){return A},mg:function(){return a},t0:function(){return s},yC:function(){return x}});var t=n(48047),m=n(53827),b=m.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function h(r){return request({url:"/task/grab",withCredentials:!1,method:"post",data:r})}function w(){return(0,t.Z)({url:"/products/random",method:"get"})}function f(r){return(0,t.Z)({url:"/products/random/type",method:"get",params:r})}function o(r){return(0,t.Z)({url:"/wishlist/add",method:"post",data:r})}function l(r){return(0,t.Z)({url:"/wishlist/"+r,method:"get"})}function s(r,U){return(0,t.Z)({url:"/wishlist/delete/".concat(r,"/").concat(U),method:"delete"})}function d(r){return(0,t.Z)({url:"/orders/buy",method:"post",data:r})}function i(r){return(0,t.Z)({url:"/orders/buy/all",method:"get",params:r})}function _(r){return(0,t.Z)({url:"/orders/buy/pending",method:"get",params:r})}function g(r){return(0,t.Z)({url:"/orders/buy/processing",method:"get",params:r})}function v(r){return(0,t.Z)({url:"/orders/buy/refunding",method:"get",params:r})}function a(r){return(0,t.Z)({url:"/orders/buy/delivered",method:"get",params:r})}function x(r){return(0,t.Z)({url:"/products/search",method:"get",params:r})}function I(r){return(0,t.Z)({url:"/shop/".concat(r.shopId,"/available-products"),method:"get",params:r})}function E(r){return(0,t.Z)({url:"/shop/products/priceRange",method:"get",params:r})}function P(r){return(0,t.Z)({url:"/shop/".concat(r.shopId,"/orders"),method:"get",params:r})}function j(r){return(0,t.Z)({url:"/shop/".concat(r,"/products"),method:"get",params:{size:100}})}function M(r){return(0,t.Z)({url:"/shop/".concat(r,"/order/summary"),method:"get",params:{shopId:r}})}function Z(r){return(0,t.Z)({url:"/shop/".concat(r.shopId,"/payOrder"),method:"post",data:r})}function O(r){return(0,t.Z)({url:"/shop/listProduct",method:"post",data:r})}function A(r){return(0,t.Z)({url:"/shop/products/editPrice",method:"post",data:r})}function R(r){return(0,t.Z)({url:"/shop/removeProduct",method:"post",data:r})}},23732:function(D,C,n){n.d(C,{$A:function(){return F},FL:function(){return r},H:function(){return j},IL:function(){return Z},JR:function(){return R},Kn:function(){return i},S4:function(){return M},Ue:function(){return d},Uy:function(){return H},Vb:function(){return z},_U:function(){return _},an:function(){return w},bZ:function(){return O},eY:function(){return U},iJ:function(){return P},jw:function(){return I},nn:function(){return E},o$:function(){return h},sg:function(){return K},um:function(){return o},vZ:function(){return T},wX:function(){return A},x4:function(){return a},yw:function(){return s},z2:function(){return f}});var t=n(48047),m=n(53827),b=m.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function h(e){return b({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function w(e){return(0,t.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function f(e){return(0,t.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function o(e){return(0,t.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function l(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function s(e){return(0,t.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function d(e){var W=e.id;return delete e.id,(0,t.Z)({url:"/address/create?userId="+W,withCredentials:!1,method:"post",data:e})}function i(e){return(0,t.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function _(e){return(0,t.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function g(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function v(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function a(e){return(0,t.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function x(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function I(e){return(0,t.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function E(e){return(0,t.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function P(e){return(0,t.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function j(e){return(0,t.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function M(e){return(0,t.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function Z(e){return(0,t.Z)({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function O(e){return(0,t.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function A(e){return(0,t.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function R(e){return(0,t.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function r(e){return(0,t.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function U(e){return(0,t.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function H(e){return(0,t.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function K(e){return(0,t.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function z(e){return(0,t.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function T(e){return(0,t.Z)({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function F(e){return(0,t.Z)({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function N(){return fetch("https://api.ipify.org?format=json")}},48047:function(D,C,n){var t=n(31759),m=n.n(t),b=n(53827),h=n(50862),w=n(49634),f=b.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});f.interceptors.request.use(function(o){if(o.url==="/auth/register"||o.url==="/auth/login")return o;(o.url==="/user/apply"||o.url==="/loan/apply")&&(o.headers["Content-Type"]="multipart/form-data");var l=localStorage.getItem("token");return l&&(o.headers.Authorization="Bearer "+l),o},function(o){return console.log(o),Promise.reject(o)}),f.interceptors.response.use(function(o){var l,s=o.data;if(console.log("response-->",s),Array.isArray(s))return Promise.resolve(s);if((l=s.data)!==null&&l!==void 0&&l.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("userInfo",JSON.stringify(s.data.user))),s.code!==200)return h.FN.show({icon:"fail",content:s.message}),Promise.resolve(s);if(s.code===200||s.message==="SUCCESS")return Promise.resolve(s);if(s.code===305||s.code===306){Promise.reject(s||"error");return}else return s.code===403?(h.FN.show({icon:"fail",content:s.message}),w.history.push("/login"),Promise.resolve(s||"error")):Promise.reject(s||"error")},function(o){return console.log(o,"error"),o.status===403&&(h.FN.show({icon:"fail",content:o.message}),localStorage.removeItem("token"),setTimeout(function(){w.history.push("/login")},1e3)),console.log("request error"+o,m()(o)),Promise.reject(o)}),C.Z=f},4090:function(D,C,n){n.d(C,{Bi:function(){return f},Vj:function(){return o},c9:function(){return l},dN:function(){return w}});var t=n(25298),m=n.n(t),b=n(17069),h=n.n(b);function w(s){return isNaN(s)?"0.00":Number(s).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}function f(s){var d=new Date(s),i=d.getFullYear(),_=String(d.getMonth()+1).padStart(2,"0"),g=String(d.getDate()).padStart(2,"0"),v="".concat(i,"-").concat(_,"-").concat(g);return v}function o(s,d,i){for(var _={},g=100/i,v=0;v<=i;v++){var a=v*g,x=(s+(d-s)*a/100).toFixed(2);_[a]=parseFloat(x)}return _}var l=function(){function s(d){m()(this,s),this.url=d,this.ws=null,this.listeners=[],this.onOpenCallbacks=[]}return h()(s,[{key:"connect",value:function(){var i=this;this.ws||(this.ws=new window.WebSocket(this.url),this.ws.onopen=function(){i.onOpenCallbacks.forEach(function(_){return _()})},this.ws.onmessage=function(_){var g=_.data;try{g=JSON.parse(g)}catch(v){}i.listeners.forEach(function(v){return v(g)})})}},{key:"send",value:function(i){console.log(this.ws,"this.ws"),!(!this.ws||this.ws.readyState!==1)&&(typeof i!="string"&&(i=JSON.stringify(i)),this.ws.send(i))}},{key:"onMessage",value:function(i){this.listeners.push(i)}},{key:"close",value:function(){this.ws&&(this.ws.close(),this.ws=null)}},{key:"onOpen",value:function(i){this.onOpenCallbacks.push(i)}}]),s}()},48452:function(D,C,n){var t=n(50862),m=n(75271),b=n(5791),h=n(52676),w=function(o){var l=o.title,s=(0,b.s0)(),d=function(){s(-1)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(t.l2,{onBack:d,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:l})})};C.Z=w},23399:function(D,C,n){n.r(C),n.d(C,{default:function(){return x}});var t=n(90228),m=n.n(t),b=n(87999),h=n.n(b),w=n(48305),f=n.n(w),o=n(75271),l=n(50862),s=n(48452),d=n(23732),i=n(30096),_=n(5791),g={finance:"finance___j6l_O",title:"title___A5AlX",content:"content___vWqQ4",number:"number___urEsk",button:"button___WC5ki",overlayContent:"overlayContent___HcFsd"},v=n(4090),a=n(52676);function x(){var I=(0,o.useState)([]),E=f()(I,2),P=E[0],j=E[1],M=(0,o.useState)(!0),Z=f()(M,2),O=Z[0],A=Z[1],R=(0,o.useState)({page:0}),r=f()(R,2),U=r[0],H=r[1],K=(0,_.s0)(),z=(0,o.useState)(0),T=f()(z,2),F=T[0],N=T[1],e=(0,o.useState)(null),W=f()(e,2),k=W[0],J=W[1],Y=(0,o.useState)(0),V=f()(Y,2),$=V[0],X=V[1],Q=(0,o.useState)(0),G=f()(Q,2),q=G[0],ee=G[1],te=function(){var u=h()(m()().mark(function c(){var p,S;return m()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return p=JSON.parse(localStorage.getItem("userInfo")),console.log(p),y.next=4,(0,i.fY)({shopId:p.shopId,page:U.page,size:10});case 4:S=y.sent,A(!1),j(S.data);case 7:case"end":return y.stop()}},c)}));return function(){return u.apply(this,arguments)}}(),re=function(){var u=h()(m()().mark(function c(p){var S,B;return m()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return S=JSON.parse(localStorage.getItem("userInfo")),ee(p.id),L.next=4,(0,i.GD)({shopId:S.shopId,productId:p.id});case 4:B=L.sent,J((0,v.Vj)(B.data.minPrice,B.data.maxPrice,5)),N(!0);case 7:case"end":return L.stop()}},c)}));return function(p){return u.apply(this,arguments)}}(),ae=function(c){localStorage.setItem("item",JSON.stringify(c)),K("/details")},ne=function(c){console.log(c,"value"),X(c);var p="";typeof c=="number"?p="".concat(c):p="".concat(c.join("--")),l.FN.show("\u5F53\u524D\u9009\u4E2D\u503C\u4E3A\uFF1A".concat(p))},se=(0,o.useMemo)(function(){if(k)return k[$]},[$,k]),oe=function(){var u=h()(m()().mark(function c(){var p,S;return m()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return J(null),p=JSON.parse(localStorage.getItem("userInfo")),y.next=4,(0,i.if)({shopId:p.shopId,productId:q,chosenPrice:se});case 4:S=y.sent,S.code===200&&(l.FN.show({icon:"success",content:S.message}),N(!1));case 6:case"end":return y.stop()}},c)}));return function(){return u.apply(this,arguments)}}();return(0,a.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},children:[(0,a.jsx)(s.Z,{title:"\u5546\u54C1",style:{height:"100px"}}),(0,a.jsx)(l.zd,{visible:F,onMaskClick:function(){return N(!1)},children:(0,a.jsx)("div",{className:g.overlayContent,children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)("h1",{children:"\u4E0A\u67B6\u5546\u54C1"}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{className:g.content,children:[k&&(0,a.jsx)(l.iR,{marks:k,ticks:!0,onAfterChange:ne,onChange:function(c){console.log(c)}}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:g.button,onClick:function(){return oe()},children:"Submit"})]})]})})}),P.length>0?(0,a.jsx)(l.aV,{style:{"--border-top":"none","--border-bottom":"none"},children:P.map(function(u){return(0,a.jsx)(l.aV.Item,{description:(0,a.jsx)("span",{style:{color:"#666",fontSize:14},children:u.content}),extra:(0,a.jsx)("span",{style:{color:"#aaa",fontSize:13},children:u.time}),style:{fontWeight:u.unread?700:400,background:u.unread?"linear-gradient(90deg, #f5f7fa 0%, #fff 100%)":"#fff",borderRadius:8,margin:"8px 16px",boxShadow:u.unread?"0 2px 8px rgba(60,80,120,0.06)":"none"},children:(0,a.jsxs)("div",{style:{height:"120px",display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)("div",{style:{width:"40%",height:"100%"},children:(0,a.jsx)("img",{src:"https://api.xxzh.cc"+u.imagePath,style:{width:"100%",height:"100%",borderRadius:8}})}),(0,a.jsxs)("div",{style:{width:"58%",padding:"10px 0"},children:[(u==null?void 0:u.name)&&(0,a.jsx)(l.mH,{direction:"end",content:u==null?void 0:u.name,rows:2,style:{fontSize:"18px"}}),(0,a.jsx)("br",{}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)("p",{style:{color:"#fb7701",fontSize:"18px"},children:["$ ",u==null?void 0:u.costPrice," ",(0,a.jsx)("del",{style:{color:"#333",fontSize:"12px"},children:u==null?void 0:u.price})," "]}),(0,a.jsx)("button",{onClick:function(p){re(u)},style:{color:"#fff",background:"#fb7701",padding:"4px 8px",border:"none",fontSize:"14px",borderRadius:"8px"},children:"\u4E0A\u67B6"})]})]})]})},u.id)})}):(0,a.jsx)(l.HY,{style:{padding:"64px 0"},imageStyle:{width:128},description:"\u6682\u65E0\u6570\u636E"}),(0,a.jsx)(l.v_,{loadMore:te,hasMore:O})]})}}}]);
