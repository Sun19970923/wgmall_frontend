"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[797],{23732:function(y,m,t){t.d(m,{$A:function(){return B},FL:function(){return T},H:function(){return C},IL:function(){return $},JR:function(){return n},Kn:function(){return w},S4:function(){return W},Ue:function(){return p},Uy:function(){return O},Vb:function(){return b},_U:function(){return j},an:function(){return v},bZ:function(){return A},eY:function(){return L},iJ:function(){return U},jw:function(){return D},nn:function(){return F},o$:function(){return h},sg:function(){return R},um:function(){return s},vZ:function(){return S},wX:function(){return M},x4:function(){return N},yw:function(){return a},z2:function(){return g}});var r=t(48047),c=t(53827),f=c.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function h(e){return f({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function v(e){return(0,r.Z)({url:"/user/captcha/getCaptcha",withCredentials:!1,method:"get",params:e})}function g(e){return(0,r.Z)({url:"/auth/register",withCredentials:!1,method:"post",data:e})}function s(e){return(0,r.Z)({url:"/user/user-detail/"+e.userId,withCredentials:!1,method:"get"})}function u(e){return request({url:"/wishlist/"+e.userId,withCredentials:!1,method:"get"})}function a(e){return(0,r.Z)({url:"/message/inbox",withCredentials:!1,method:"get",params:e})}function p(e){var K=e.id;return delete e.id,(0,r.Z)({url:"/address/create?userId="+K,withCredentials:!1,method:"post",data:e})}function w(e){return(0,r.Z)({url:"/address/get",withCredentials:!1,method:"get",params:e})}function j(e){return(0,r.Z)({url:"/address/update?userId="+e.id,withCredentials:!1,method:"post",data:e})}function I(e){return request({url:"/redbag/draw",withCredentials:!1,method:"post",data:e})}function P(e){return request({url:"/user/profit",withCredentials:!1,method:"get",params:e})}function N(e){return(0,r.Z)({url:"/auth/login",withCredentials:!1,method:"post",data:e})}function l(e){return request({url:"/redbag/signin",withCredentials:!1,method:"post",data:e})}function D(e){return(0,r.Z)({url:"/redbag/signin-and-draw",withCredentials:!1,method:"post",data:e})}function F(e){return(0,r.Z)({url:"/seller/apply",withCredentials:!1,method:"post",data:e})}function U(e){return(0,r.Z)({url:"/loan/apply",withCredentials:!1,method:"post",data:e})}function C(e){return(0,r.Z)({url:"/loan/loan",withCredentials:!1,method:"post",data:e})}function W(e){return(0,r.Z)({url:"/loan/repay",withCredentials:!1,method:"post",data:e})}function $(e){return(0,r.Z)({url:"/withdrawal-records/user",withCredentials:!1,method:"post",data:e})}function A(e){return(0,r.Z)({url:"/recharge-records/username",withCredentials:!1,method:"get",params:e})}function M(e){return(0,r.Z)({url:"/recharge-records/user",withCredentials:!1,method:"post",data:e})}function n(e){return(0,r.Z)({url:"/withdrawal-records/username",withCredentials:!1,method:"get",params:e})}function T(e){return(0,r.Z)({url:"/shop/user/"+e,withCredentials:!1,method:"get"})}function L(e){return(0,r.Z)({url:"/user/info/"+e,withCredentials:!1,method:"get"})}function O(e){return(0,r.Z)({url:"/products/uploader-to-userid?uploader="+e.uploader,withCredentials:!1,method:"get"})}function R(e){return(0,r.Z)({url:"/user/eth/get",withCredentials:!1,method:"get",params:e})}function b(e){return(0,r.Z)({url:"/user/tron/get",withCredentials:!1,method:"get",params:e})}function S(e){return(0,r.Z)({url:"/user/eth/set",withCredentials:!1,method:"put",data:e})}function B(e){return(0,r.Z)({url:"/user/tron/set",withCredentials:!1,method:"put",data:e})}function _(){return fetch("https://api.ipify.org?format=json")}},48047:function(y,m,t){var r=t(31759),c=t.n(r),f=t(53827),h=t(50862),v=t(49634),g=f.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});g.interceptors.request.use(function(s){if(s.url==="/auth/register"||s.url==="/auth/login")return s;(s.url==="/user/apply"||s.url==="/loan/apply")&&(s.headers["Content-Type"]="multipart/form-data");var u=localStorage.getItem("token");return u&&(s.headers.Authorization="Bearer "+u),s},function(s){return console.log(s),Promise.reject(s)}),g.interceptors.response.use(function(s){var u,a=s.data;if(console.log("response-->",a),Array.isArray(a))return Promise.resolve(a);if((u=a.data)!==null&&u!==void 0&&u.token&&(localStorage.setItem("token",a.data.token),localStorage.setItem("userInfo",JSON.stringify(a.data.user))),a.code!==200)return h.FN.show({icon:"fail",content:a.message}),Promise.resolve(a);if(a.code===200||a.message==="SUCCESS")return Promise.resolve(a);if(a.code===305||a.code===306){Promise.reject(a||"error");return}else return a.code===403?(h.FN.show({icon:"fail",content:a.message}),v.history.push("/login"),Promise.resolve(a||"error")):Promise.reject(a||"error")},function(s){return console.log(s,"error"),s.status===403&&(h.FN.show({icon:"fail",content:s.message}),localStorage.removeItem("token"),setTimeout(function(){v.history.push("/login")},1e3)),console.log("request error"+s,c()(s)),Promise.reject(s)}),m.Z=g},77073:function(y,m,t){t.d(m,{Z:function(){return v}});var r=t(75271),c=t(50862),f=t(52676),h=function(s){var u=s.visible;return(0,f.jsx)(c.zd,{visible:u,className:"loading-mask",children:(0,f.jsxs)("div",{className:"loading-container",children:[(0,f.jsx)(c.wW,{style:{"--size":"48px"}}),(0,f.jsx)("span",{className:"loading-text",children:"Loading..."})]})})},v=h},43566:function(y,m,t){t.r(m),t.d(m,{default:function(){return T}});var r=t(90228),c=t.n(r),f=t(26068),h=t.n(f),v=t(87999),g=t.n(v),s=t(48305),u=t.n(s),a=t(44105),p=t(17759),w=t(43334),j=t(50862),I=t(75271),P=t(23732),N=t(5791),l={loginContainer:"loginContainer____VnY_",header:"header___zT8pi",logoChunk:"logoChunk___awGh5",Language:"Language___rg0P4",tips:"tips___uUgm8",content:"content___XKXsU",icons:"icons___yRpvd",icon_item:"icon_item___RMZlM",from:"from___hOciD",submit:"submit___s6nvi",switch:"switch___dw9M1"},D=t(28936),F=t.p+"static/login_1.7a21782e.webp",U=t.p+"static/login_2.0613a608.webp",C=null;function W(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"\u52A0\u8F7D\u4E2D...";C||(C=Toast.show({icon:"loading",content:L,duration:0,maskClickable:!1}))}function $(){C&&(C.close(),C=null)}var A=t(49634),M=t(77073),n=t(52676);function T(){var L=function(){(0,P.an)(),(0,P.o$)()},O=(0,A.useLocation)(),R=new URLSearchParams(O.search),b=R.get("redirect"),S=(0,N.s0)(),B=(0,I.useState)(!0),_=u()(B,2),e=_[0],K=_[1],J=(0,I.useState)(!1),H=u()(J,2),X=H[0],z=H[1],V=function(){var x=g()(c()().mark(function E(o){return c()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(console.log(e,"isLogin"),console.log("Form values:",o),!e){i.next=7;break}if(!(!o.username||!o.password)){i.next=5;break}return i.abrupt("return",j.FN.show({icon:"fail",content:"\u8BF7\u586B\u5199\u5B8C\u6574"}));case 5:i.next=9;break;case 7:if(!(!o.password||!o.fundpassword||!o.username||!o.phone||!o.invitecode)){i.next=9;break}return i.abrupt("return",j.FN.show({icon:"fail",content:"\u8BF7\u586B\u5199\u5B8C\u6574"}));case 9:if(z(!0),e){i.next=13;break}return fetch("https://api.ipify.org?format=json").then(function(Z){return Z.json()}).then(function(Z){return G(h()(h()({},o),{},{ip:Z.ip}))}).catch(function(Z){j.FN.show({icon:"fail",content:Z}),z(!1)}),i.abrupt("return");case 13:G(h()({},o));case 14:case"end":return i.stop()}},E)}));return function(o){return x.apply(this,arguments)}}(),G=function(){var x=g()(c()().mark(function E(o){var k,i;return c()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(k={username_or_phone:o.username,password:o.password},!e){d.next=7;break}return d.next=4,(0,P.x4)(k);case 4:d.t0=d.sent,d.next=10;break;case 7:return d.next=9,(0,P.z2)(o);case 9:d.t0=d.sent;case 10:i=d.t0,z(!1),console.log(i,"res"),i.code==200&&(j.FN.show({icon:"success",content:i.message}),setTimeout(function(){S(b?"/"+b:"/home")},1500));case 14:case"end":return d.stop()}},E)}));return function(o){return x.apply(this,arguments)}}();return(0,I.useEffect)(function(){localStorage.removeItem("token"),localStorage.removeItem("userInfo")},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M.Z,{visible:X}),(0,n.jsxs)("div",{className:l.header,children:[(0,n.jsxs)("div",{className:l.logoChunk,children:[(0,n.jsx)("img",{src:D,alt:""}),(0,n.jsx)("span",{children:"CA"})]}),(0,n.jsx)("div",{className:l.tips,children:"\u6240\u6709\u6570\u636E\u90FD\u5C06\u88AB\u52A0\u5BC6"}),(0,n.jsx)(a.ZP,{onClick:function(){return S("/LanguageSwitchPage")},className:l.Language,children:"\u5207\u6362\u8BED\u8A00"})]}),(0,n.jsxs)("div",{className:l.content,children:[(0,n.jsxs)("div",{className:l.icons,children:[(0,n.jsxs)("div",{className:l.icon_item,children:[(0,n.jsx)("img",{src:F,alt:""}),(0,n.jsx)("span",{children:"\u5E73\u53F0\u5305\u90AE"}),(0,n.jsx)("span",{children:"\u4E13\u5C5E\u4F18\u60E0"})]}),(0,n.jsxs)("div",{className:l.icon_item,children:[(0,n.jsx)("img",{src:U,alt:""}),(0,n.jsx)("span",{children:"\u514D\u8D39\u9000\u8D27"}),(0,n.jsx)("span",{children:"\u957F\u8FBE90\u5929"})]})]}),(0,n.jsx)("div",{className:l.from,children:(0,n.jsxs)(p.Z,{layout:"horizontal",onFinish:V,children:[(0,n.jsx)(p.Z.Item,{label:"Nickname",name:"username",children:(0,n.jsx)(w.Z,{placeholder:"please input Nickname"})}),(0,n.jsx)(p.Z.Item,{label:"Password",name:"password",children:(0,n.jsx)(w.Z,{placeholder:"Password",type:"password"})}),!e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z.Item,{label:"Phone",name:"phone",children:(0,n.jsx)(w.Z,{placeholder:"Phone"})}),(0,n.jsx)(p.Z.Item,{label:"Fund Password",name:"fundpassword",children:(0,n.jsx)(w.Z,{placeholder:"Fund Password",type:"password"})}),(0,n.jsx)(p.Z.Item,{label:"Invite code",name:"invitecode",children:(0,n.jsx)(w.Z,{placeholder:"Invite code"})})]}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsx)(p.Z.Item,{children:(0,n.jsx)(a.ZP,{type:"primary",htmlType:"submit",className:l.submit,children:"Submit"})}),(0,n.jsxs)("span",{className:l.switch,onClick:function(){return K(!e)},children:["Go to ",e?"register":"login"]})]})})]})]})}},28936:function(y,m,t){y.exports=t.p+"static/logo.a6b1e098.webp"}}]);
