"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[669],{30096:function(Z,h,e){e.d(h,{GD:function(){return A},Gj:function(){return j},Iw:function(){return y},LG:function(){return v},MX:function(){return m},PY:function(){return u},QK:function(){return n},RB:function(){return x},Sp:function(){return E},ZZ:function(){return b},_r:function(){return S},aV:function(){return O},b7:function(){return p},dt:function(){return l},fY:function(){return o},if:function(){return R},kh:function(){return B},lz:function(){return M},mg:function(){return _},t0:function(){return a},yC:function(){return I}});var r=e(48047),g=e(53827),P=g.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e4});function i(t){return request({url:"/task/grab",withCredentials:!1,method:"post",data:t})}function m(){return(0,r.Z)({url:"/products/random",method:"get"})}function l(t){return(0,r.Z)({url:"/products/random/type",method:"get",params:t})}function n(t){return(0,r.Z)({url:"/wishlist/add",method:"post",data:t})}function u(t){return(0,r.Z)({url:"/wishlist/"+t,method:"get"})}function a(t,L){return(0,r.Z)({url:"/wishlist/delete/".concat(t,"/").concat(L),method:"delete"})}function p(t){return(0,r.Z)({url:"/orders/buy",method:"post",data:t})}function v(t){return(0,r.Z)({url:"/orders/buy/all",method:"get",params:t})}function y(t){return(0,r.Z)({url:"/orders/buy/pending",method:"get",params:t})}function j(t){return(0,r.Z)({url:"/orders/buy/processing",method:"get",params:t})}function O(t){return(0,r.Z)({url:"/orders/buy/refunding",method:"get",params:t})}function _(t){return(0,r.Z)({url:"/orders/buy/delivered",method:"get",params:t})}function I(t){return(0,r.Z)({url:"/products/search",method:"get",params:t})}function o(t){return(0,r.Z)({url:"/shop/".concat(t.shopId,"/available-products"),method:"get",params:t})}function A(t){return(0,r.Z)({url:"/shop/products/priceRange",method:"get",params:t})}function b(t){return(0,r.Z)({url:"/shop/".concat(t.shopId,"/orders"),method:"get",params:t})}function x(t){return(0,r.Z)({url:"/shop/".concat(t,"/products"),method:"get",params:{size:100}})}function E(t){return(0,r.Z)({url:"/shop/".concat(t,"/order/summary"),method:"get",params:{shopId:t}})}function S(t){return(0,r.Z)({url:"/shop/".concat(t.shopId,"/payOrder"),method:"post",data:t})}function R(t){return(0,r.Z)({url:"/shop/listProduct",method:"post",data:t})}function M(t){return(0,r.Z)({url:"/shop/products/editPrice",method:"post",data:t})}function B(t){return(0,r.Z)({url:"/shop/removeProduct",method:"post",data:t})}},48047:function(Z,h,e){var r=e(31759),g=e.n(r),P=e(53827),i=e(50862),m=e(49634),l=P.Z.create({baseURL:"https://api.xxzh.cc",withCredentials:!1,crossDomain:!0,timeout:1e5});l.interceptors.request.use(function(n){if(n.url==="/auth/register"||n.url==="/auth/login")return n;(n.url==="/user/apply"||n.url==="/loan/apply")&&(n.headers["Content-Type"]="multipart/form-data");var u=localStorage.getItem("token");return u&&(n.headers.Authorization="Bearer "+u),n},function(n){return console.log(n),Promise.reject(n)}),l.interceptors.response.use(function(n){var u,a=n.data;if(console.log("response-->",a),Array.isArray(a))return Promise.resolve(a);if((u=a.data)!==null&&u!==void 0&&u.token&&(localStorage.setItem("token",a.data.token),localStorage.setItem("userInfo",JSON.stringify(a.data.user))),a.code!==200)return i.FN.show({icon:"fail",content:a.message}),Promise.resolve(a);if(a.code===200||a.message==="SUCCESS")return Promise.resolve(a);if(a.code===305||a.code===306){Promise.reject(a||"error");return}else return a.code===403?(i.FN.show({icon:"fail",content:a.message}),m.history.push("/login"),Promise.resolve(a||"error")):Promise.reject(a||"error")},function(n){return console.log(n,"error"),n.status===403&&(i.FN.show({icon:"fail",content:n.message}),localStorage.removeItem("token"),setTimeout(function(){m.history.push("/login")},1e3)),console.log("request error"+n,g()(n)),Promise.reject(n)}),h.Z=l},48452:function(Z,h,e){var r=e(50862),g=e(75271),P=e(5791),i=e(52676),m=function(n){var u=n.title,a=(0,P.s0)(),p=function(){a(-1)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(r.l2,{onBack:p,style:{background:"#fff",position:"sticky",top:0,zIndex:1e3},children:u})})};h.Z=m},90617:function(Z,h,e){e.r(h),e.d(h,{default:function(){return A}});var r=e(26068),g=e.n(r),P=e(90228),i=e.n(P),m=e(15558),l=e.n(m),n=e(87999),u=e.n(n),a=e(48305),p=e.n(a),v=e(75271),y=e(50862),j=e(48452),O=e(30096),_={},I=e(5791),o=e(52676);function A(){var b=(0,v.useState)([]),x=p()(b,2),E=x[0],S=x[1],R=(0,v.useState)(!0),M=p()(R,2),B=M[0],t=M[1],L=(0,v.useState)(""),U=p()(L,2),T=U[0],z=U[1],K=(0,v.useState)({page:0}),W=p()(K,2),N=W[0],F=W[1],G=(0,I.s0)(),k=function(){var s=u()(i()().mark(function d(){var c;return i()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(console.log(T,"131313131"),T){f.next=4;break}return t(!1),f.abrupt("return");case 4:return f.next=6,(0,O.yC)({keyword:T,page:N.page,size:10});case 6:if(c=f.sent,F(function(D){return{page:D.page+1}}),console.log(c.data,"111"),c.data.length!=0){f.next=11;break}return f.abrupt("return",t(!1));case 11:console.log(c),S(function(D){return[].concat(l()(D),l()(c.data)).length>=c.data.total&&t(!1),[].concat(l()(D),l()(c.data))});case 13:case"end":return f.stop()}},d)}));return function(){return s.apply(this,arguments)}}(),w=function(d){z(d),t(!0)},V=function(d){S(function(c){return c.map(function(C){return C.id===d?g()(g()({},C),{},{unread:!1}):C})})};return(0,o.jsxs)("div",{className:_.content,style:{minHeight:"100vh",background:"linear-gradient(135deg, #f5f7fa 0%, #e3e8ee 100%)",padding:"0 0 32px 0"},children:[(0,o.jsx)(j.Z,{title:"\u641C\u7D22",style:{height:"100px"}}),(0,o.jsx)(y.E1,{onSearch:function(d){w(d)},style:{"--height":"50px",fontSize:"32px"},placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"}),E.length>0?(0,o.jsx)(y.aV,{style:{"--border-top":"none","--border-bottom":"none"},children:E.map(function(s,d){return(0,o.jsx)(y.aV.Item,{description:(0,o.jsx)("span",{style:{color:"#666",fontSize:14},children:s.content}),extra:(0,o.jsx)("span",{style:{color:"#aaa",fontSize:13},children:s.time}),onClick:function(){localStorage.setItem("item",JSON.stringify(s)),G("/details")},style:{fontWeight:s.unread?700:400,background:s.unread?"linear-gradient(90deg, #f5f7fa 0%, #fff 100%)":"#fff",borderRadius:8,margin:"8px 16px",boxShadow:s.unread?"0 2px 8px rgba(60,80,120,0.06)":"none"},children:(0,o.jsxs)("div",{style:{display:"flex",alignItems:"flex-start"},children:[(0,o.jsx)("img",{style:{width:"100px",height:"100px",marginRight:"20px"},src:"https://api.xxzh.cc"+s.imagePath,alt:""}),(0,o.jsxs)("span",{style:{fontSize:16,fontWeight:700,width:200},children:[(0,o.jsx)("span",{children:s.name}),(0,o.jsxs)("div",{children:["$ ",s.price]})]})]})},d)})}):(0,o.jsx)(y.HY,{style:{padding:"64px 0"},imageStyle:{width:128},description:"\u6682\u65E0\u6570\u636E"}),(0,o.jsx)(y.v_,{loadMore:k,hasMore:B})]})}}}]);
